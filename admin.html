<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Administrador ‚Äî Mil Sabores</title>

    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>

    <script>
        const usuario = JSON.parse(localStorage.getItem("usuario") || "{}");
        if (usuario.rol !== "ADMIN") {
            window.location.href = "login.html";
        }
    </script>

    <header>
        <div class="container">

            <div class="logo">
                <h1>Pasteler√≠a Mil Sabores</h1>
                <p>50 a√±os endulzando Chile</p>
            </div>

            <nav>
                <button id="menu-toggle" class="hamburger">‚ò∞</button>

                <ul id="menu">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="productos.html">Productos</a></li>

                    <li><a href="registro.html" id="nav-registro-perfil">Registro</a></li>

                    <li id="nav-perfil" style="display:none;">
                        <a href="perfil.html">Mi Perfil</a>
                    </li>

                    <li id="nav-pedidos-item" style="display:none;">
                        <a href="pedidos.html">Mis Pedidos</a>
                    </li>

                    <li id="nav-admin" style="display:block;">
                        <a href="admin.html" class="active">Administraci√≥n</a>
                    </li>

                    <li id="nav-logout">
                        <a href="#" id="logout-btn">Cerrar sesi√≥n</a>
                    </li>

                    <li><a href="contacto.html">Contacto</a></li>
                    <li><a href="carrito.html">Carrito (<span id="contador-carrito">0</span>)</a></li>
                </ul>
            </nav>

        </div>
    </header>

    <h1 class="titulo-admin">Panel de Administraci√≥n</h1>

    <div class="admin-top-buttons">
        <a href="index.html" class="btn-top">
            <i>üè†</i> Volver al Inicio
        </a>

        <a href="productos.html" class="btn-top">
            <i>üéÇ</i> Ver Productos
        </a>

        <button id="admin-logout" class="btn-top btn-logout">
            <i>üö™</i> Cerrar Sesi√≥n
        </button>
    </div>

    <div id="admin-content">
        <h2 class="subtitulo-admin">Bienvenido al Panel Admin</h2>
        <p>Selecciona una opci√≥n del men√∫ inferior.</p>
    </div>

    <nav class="nav-bottom">
        <a data-section="dashboard" class="activo">
            <i>üìä</i> Dashboard
        </a>
        <a data-section="productos">
            <i>üç∞</i> Productos
        </a>
        <a data-section="usuarios">
            <i>üë•</i> Usuarios
        </a>
        <a data-section="pedidos">
            <i>üßæ</i> Pedidos
        </a>
    </nav>

    <script type="module" src="js/admin.js"></script>

    <script>
        const logout = document.getElementById("admin-logout");
        if (logout) {
            logout.addEventListener("click", () => {
                localStorage.removeItem("usuario");
                localStorage.removeItem("token");
                window.location.href = "login.html";
            });
        }
    </script>

    <script>
        document.getElementById("menu-toggle")?.addEventListener("click", () => {
            document.getElementById("menu")?.classList.toggle("active");
        });
    </script>

</body>

</html>
